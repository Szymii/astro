---
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Welcome to Astro.">
  <main class="mx-auto max-w-[600px]">
    <div class="scroll-watcher"></div>
    <section class="h-screen">
      <div class="grid h-full place-items-center">
        <h1 class="text-fade-out mb-4 py-32 text-4xl font-bold">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </h1>
        <img
          src="https://picsum.photos/1200/800"
          alt="image"
          class="header-image"
        />
      </div>
    </section>
    <section class="pt-12">
      <h1 class="mb-4 text-4xl font-bold">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
      </h1>
      <article>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam
          efficitur, nisl nec ultricies congue, arcu nisl fermentum justo, ac
          condimentum nisi nisl sit amet elit. Donec ac nisi eget nisl
          consectetur tempor. Donec euismod, nisl eget ultrices aliquam, nunc
          nisl aliquam nisi, euismod aliquet nisl nisl euismod.
        </p>
        <img
          src="https://picsum.photos/600/400"
          alt="image"
          class="image-fade-in my-4"
        />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam
          efficitur, nisl nec ultricies congue, arcu nisl fermentum justo, ac
          condimentum nisi nisl sit amet elit. Donec ac nisi eget nisl
          consectetur tempor. Donec euismod, nisl eget ultrices aliquam, nunc
          nisl aliquam nisi, euismod aliquet nisl nisl euismod.
        </p>
        <img
          src="https://picsum.photos/600/400"
          alt="image"
          class="image-fade-in my-4"
        />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam
          efficitur, nisl nec ultricies congue, arcu nisl fermentum justo, ac
          condimentum nisi nisl sit amet elit. Donec ac nisi eget nisl
          consectetur tempor. Donec euismod, nisl eget ultrices aliquam, nunc
          nisl aliquam nisi, euismod aliquet nisl nisl euismod.
        </p>
      </article>
    </section>
    <section class="h-screen overflow-hidden">
      <div class="scrolling-card mt-64 flex gap-6">
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">HTML</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">CSS</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">TS</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Astro</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">UX</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">React</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Vue</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Next</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">UI</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Vite</div>
      </div>
      <div class="scrolling-card-reverse mt-12 flex flex-row-reverse gap-6">
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">HTML</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">CSS</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">TS</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Astro</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">UX</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">React</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Vue</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Next</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">UI</div>
        <div class="rounded-md bg-gray-200 bg-opacity-5 p-4">Vite</div>
      </div>
    </section>
    <section class="h-screen"></section>
  </main>
</Layout>

<style>
  .scroll-watcher {
    height: 6px;
    background-color: #239400;
    position: fixed;
    inset: 0;
    scale: 0 1;
    transform-origin: left;
    animation: scroll-watcher linear;
    animation-timeline: scroll();
  }

  @keyframes scroll-watcher {
    to {
      scale: 1 1;
    }
  }

  .image-fade-in {
    animation: image-fade-in linear forwards;
    animation-timeline: view();
    animation-range: entry;
    scale: 0.8;
    opacity: 0;
  }

  @keyframes image-fade-in {
    to {
      scale: 1;
      opacity: 1;
    }
  }

  .scrolling-card {
    transform: translate(50%);
    animation: scrolling-card linear;
    animation-timeline: scroll(root);
  }

  .scrolling-card-reverse {
    transform: translate(-50%);
    animation: scrolling-card-reverse linear;
    animation-timeline: scroll(root);
  }

  @keyframes scrolling-card {
    to {
      transform: translate(-50%);
    }
  }

  @keyframes scrolling-card-reverse {
    to {
      transform: translate(50%);
    }
  }

  .text-fade-out {
    animation: text-fade-out linear;
    animation-timeline: view();
    animation-range: exit -300px;
  }

  @keyframes text-fade-out {
    to {
      opacity: 0;
    }
  }

  .header-image {
    grid-column: 1 / -1;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0.5;
    object-fit: cover;
    z-index: -1;

    animation: header-image-zoom linear forwards;
    animation-timeline: view();
    animation-range: exit;
  }

  @keyframes header-image-zoom {
    25% {
      opacity: 1;
    }
    85%,
    100% {
      opacity: 0;
      scale: 3;
    }
  }
</style>
